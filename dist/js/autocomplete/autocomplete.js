!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/autocomplete/",n(n.s=9)}([,,,function(t,e,n){t.exports=n.p+"4ed57c7aa483ab39cc95f4d865d8e13e.svg"},function(t,e,n){t.exports=n.p+"38d9edf844e414f181f8a09d3ead75de.svg"},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(r).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){var i=n(6);(t.exports=n(5)(!1)).push([t.i,":host {\n  font-family: 'courier', monospace;\n  display: flex;\n  color: #67615e;\n  width: 100%; }\n\n:host * {\n  box-sizing: border-box; }\n\n:host .autocomplete-wrapper {\n  width: 100%; }\n\n:host input {\n  background-color: #ffffff;\n  border: #fff 1px solid;\n  padding-left: 6rem;\n  height: 6rem;\n  width: 100%;\n  outline: none; }\n  :host input:focus {\n    border-color: #567ebf; }\n\n:host .input-wrapper {\n  position: relative;\n  display: flex; }\n  :host .input-wrapper:before {\n    background: url("+i(n(4))+") 50% 50% no-repeat;\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 6rem;\n    display: block; }\n\n:host .list {\n  margin: -10px 0 0 2rem;\n  position: relative;\n  border: 1px solid #e4e1e0;\n  border-top: none;\n  box-shadow: 1px 1px 2px #e4e1e0;\n  display: none;\n  max-height: 600px;\n  overflow: auto; }\n\n:host .list.display {\n  display: block; }\n\n:host .list-item {\n  background: #fff;\n  height: 6rem;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  text-align: right;\n  padding: 1rem 1.5rem;\n  font-size: 100%; }\n\n:host .list-item.active,\n:host .list-item:hover {\n  background: #eff2f9;\n  color: #ccc;\n  cursor: pointer; }\n\n:host .icon-profile {\n  border-radius: 50%;\n  overflow: hidden;\n  width: 4rem;\n  height: 4rem;\n  margin-right: 10px; }\n\n:host .icon-profile img {\n  max-width: 100%; }\n\n:host .btn-toggle {\n  background-color: #ffffff;\n  border: none;\n  position: absolute;\n  right: 1px;\n  top: 1px;\n  bottom: 1px;\n  width: 5rem;\n  padding: 0;\n  outline: none;\n  display: flex;\n  align-content: center;\n  justify-content: center; }\n  :host .btn-toggle:before {\n    width: 25px;\n    height: 25px;\n    content: '';\n    display: block;\n    background: url("+i(n(3))+") 50% 50% no-repeat; }\n",""])},function(t,e,n){"use strict";var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(7),s=(i=r)&&i.__esModule?i:{default:i};function a(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(a.prototype,HTMLElement.prototype),Object.setPrototypeOf(a,HTMLElement);var u=s.default.toString(),c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.attachShadow({mode:"open"}),t.people=null,t.filteredPeople=[],t.activeFocusIndex=-1,t.listOpen=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),o(e,[{key:"value",set:function(t){this.setAttribute("value",t),""===t&&this.hideList()},get:function(){return this.getAttribute("value")}},{key:"listElement",get:function(){return this.shadowRoot.querySelector(".list")}},{key:"inputWrapper",get:function(){return this.shadowRoot.querySelector(".input-wrapper")}}],[{key:"observedAttributes",get:function(){return["value"]}}]),o(e,[{key:"connectedCallback",value:function(){this.shadowRoot.innerHTML='<div class="autocomplete-wrapper">\n    <div class="input-wrapper">\n        <input type="text" placeholder="Search for a person">\n        <button class="btn-toggle"></button>\n    </div>\n    <div class="list"></div>\n</div>';var t=document.createElement("style");t.innerHTML=u,this.shadowRoot.prepend(t),this.init()}},{key:"init",value:function(){var t=this;this.fetchList().then(function(e){t.people=e,t.initEvents(),t.initElems()}).catch(function(t){return console.log(t)})}},{key:"initElems",value:function(){this.hideList()}},{key:"initEvents",value:function(){var t=this.shadowRoot.querySelector("input"),e=this.shadowRoot.querySelector(".btn-toggle");if(t&&e){var n=this.listClick.bind(this),i=this.dropDown.bind(this);this.addEventListener("input",this.onInput),this.addEventListener("keydown",this.onKeyDown),this.listElement.addEventListener("click",n),e.addEventListener("click",i)}}},{key:"onInput",value:function(){var t=this.shadowRoot.querySelector("input").value;this.value=t,this.activeFocusIndex=-1,""!==t&&this.displayList(this.getFilteredList(t))}},{key:"onKeyDown",value:function(t){var e=this.filteredPeople.length-1;40==t.keyCode?(this.activeFocusIndex=this.activeFocusIndex>=e?0:this.activeFocusIndex+1,this.activateListItem()):38==t.keyCode?(this.activeFocusIndex=0===this.activeFocusIndex?e:this.activeFocusIndex-1,this.activateListItem()):13==t.keyCode&&(this.itemSelect(this.activeFocusIndex),t.preventDefault())}},{key:"listClick",value:function(t){var e=t.target.getAttribute("data-value");this.setValue(e),t.preventDefault()}},{key:"itemSelect",value:function(t){var e=this.listElement.childNodes[t],n=!!e&&e.getAttribute("data-value");this.setValue(n)}},{key:"setValue",value:function(t){if(t){var e=this.shadowRoot.querySelector("input");this.value=t,e.value=t,this.hideList(),e.focus()}}},{key:"activateListItem",value:function(){var t=this.listElement.childNodes,e=this.listElement.querySelector('div[data-index="'+this.activeFocusIndex+'"]');t.forEach(function(t){t.classList.remove("active")}),e&&e.classList&&e.classList.add("active")}},{key:"displayList",value:function(t){this.filteredPeople=t,!t||!t.length||t.length<=0?this.hideList():this.showList(t)}},{key:"hideList",value:function(){this.listElement.classList.remove("display"),this.listOpen=!1}},{key:"showList",value:function(t){var e=this,n=this.listElement;n.classList.add("display"),n.innerHTML="",t.map(function(t,i){n.append(e.createListItem(t,i))}),this.listOpen=!0}},{key:"createListItem",value:function(t,e){var n=document.createElement("div"),i=t.name.first+" "+t.name.last,o=t.profile,r=document.createElement("div"),s=document.createElement("img");return s.setAttribute("src",o),r.append(s),r.className="icon-profile",n.innerHTML=i,n.className="list-item",n.setAttribute("data-index",e),n.setAttribute("data-value",i),n.prepend(r),n}},{key:"getFilteredList",value:function(t){return this.people.reduce(function(e,n,i){var o=n.name;return-1!==(o.first+o.last).indexOf(t)&&e.push(n),e},[])}},{key:"dropDown",value:function(){this.listOpen?this.hideList():this.showList(this.people)}},{key:"fetchList",value:function(){return new Promise(function(t,e){return fetch("./assets/data.js").then(function(e){t(e.json())}).then(function(t){return e(t)})})}},{key:"disconnectedCallback",value:function(){var t=this.shadowRoot.querySelector("input"),e=this.shadowRoot.querySelector(".btn-toggle");t&&e&&(this.removeEventListener("input",this.onInput),this.removeEventListener("keydown",this.onKeyDown),this.listElement.removeEventListener("click",listClick),e.addEventListener("click",dropDown))}}]),e}();window.customElements.define("m-autocomplete",c)},function(t,e,n){t.exports=n(8)}]);